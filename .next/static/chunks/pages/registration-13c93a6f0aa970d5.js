(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[907],{3925:function(e,n,t){"use strict";t.d(n,{q5:function(){return l},r4:function(){return d},pH:function(){return f},TX:function(){return m},xj:function(){return x}});var r=t(5861),a=t(7757),s=t.n(a),i=t(9669),o=t.n(i),u=t(1163);o().defaults.withCredentials=!0;var c="__USER__",l=function(e){return function(n){var t=n.req,r=n.res,a=t?function(e){var n=e.signedCookies,t=void 0===n?{}:n;return t&&t.token?{user:t.token}:{}}(t):{user:window[c]||{}},s=t?t.url:window.location.pathname,i=a.user,o=!i||"authenticated"!==i.type;return e&&o&&"/login"!==s?p(r,"/login"):{auth:a}}},p=function(e,n){return e?(e.redirect(302,n),e.finished=!0,{}):(u.default.replace(n),{})},d=function(){var e=(0,r.Z)(s().mark((function e(n,t,r,a){var i;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h({url:"reg",data:{name:n,email:t,password:r,refer:a}});case 2:if(i=e.sent,console.log(i),!i.data){e.next=8;break}u.default.push("/login"),e.next=9;break;case 8:throw new Error("Email \u0443\u0436\u0435 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442\u0441\u044f");case 9:case"end":return e.stop()}}),e)})));return function(n,t,r,a){return e.apply(this,arguments)}}(),h=o().create({baseURL:"https://pegascapital.herokuapp.com/api/",method:"post",headers:{"X-Custom-Header":"foobar"}}),f=function(){var e=(0,r.Z)(s().mark((function e(n,t){var r,a;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("APIurl: ","https://pegascapital.herokuapp.com/api/"),e.next=3,h({url:"login",data:{email:n,password:t}});case 3:r=e.sent,a=r.data,console.log("kek"),console.log(a),console.log("kek2"),window[c]=a||{};case 9:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),m=function(){var e=(0,r.Z)(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return window[c]={},e.next=3,h({url:"logout"});case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),x=(o().create({baseURL:"https://pegascapital.herokuapp.com/api/",headers:{"X-Custom-Header":"foobar"}}),function(){var e=(0,r.Z)(s().mark((function e(n){var t,r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n,console.log("eto qiwikam",t),e.next=4,h({url:"payadv",data:{qiwikam:t}});case 4:return r=e.sent,console.log("eto qiwi",r.data),u.default.push(r.data.payment_url),e.abrupt("return",r);case 8:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}())},2167:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return f}});var r=t(5671),a=t(3144),s=t(7326),i=t(136),o=t(245),u=t(1120),c=t(4942),l=(t(1163),t(7294)),p=t(3925),d=t(5893);function h(e){var n=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var t,r=(0,u.Z)(e);if(n){var a=(0,u.Z)(this).constructor;t=Reflect.construct(r,arguments,a)}else t=r.apply(this,arguments);return(0,o.Z)(this,t)}}var f=function(e){(0,i.Z)(t,e);var n=h(t);function t(){var e;(0,r.Z)(this,t);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return e=n.call.apply(n,[this].concat(i)),(0,c.Z)((0,s.Z)(e),"state",{name:"",email:"",password:"",error:"",isLoading:!1,refer:""}),(0,c.Z)((0,s.Z)(e),"handleChange",(function(n){e.setState((0,c.Z)({},n.target.name,n.target.value))})),(0,c.Z)((0,s.Z)(e),"handleSubmit",(function(n){var t=e.state,r=t.name,a=t.email,s=t.password,i=t.refer;n.preventDefault(),e.setState({error:"",isLoading:!0}),(0,p.r4)(r,a,s,i).then((function(){console.log(r,a,s,i)})).catch(e.showError)})),(0,c.Z)((0,s.Z)(e),"showError",(function(n){console.error(n);var t=n.response&&n.response.data||n.message;e.setState({error:t})})),e}return(0,a.Z)(t,[{key:"render",value:function(){var e=this.state,n=e.name,t=e.email,r=e.password,a=e.refer,s=e.error;e.isLoading;return(0,d.jsxs)("div",{className:"main-w3layouts wrapper",children:[(0,d.jsx)("h1",{children:" \u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f "}),(0,d.jsx)("div",{className:"main-agileinfo",children:(0,d.jsxs)("div",{className:"agileits-top",children:[(0,d.jsxs)("form",{onSubmit:this.handleSubmit,children:["\u0418\u043c\u044f",(0,d.jsx)("input",{className:"text input-text",type:"text",name:"name",placeholder:"Name",required:"",value:n,onChange:this.handleChange}),(0,d.jsx)("br",{}),"Email",(0,d.jsx)("input",{className:"text email input-email",type:"email",name:"email",placeholder:"Email",required:"",value:t,onChange:this.handleChange}),"\u041f\u0430\u0440\u043e\u043b\u044c",(0,d.jsx)("input",{className:"text input-password",type:"password",name:"password",placeholder:"Password",required:"",value:r,onChange:this.handleChange})," ",(0,d.jsx)("br",{}),"Email \u043f\u0440\u0438\u0433\u043b\u0430\u0441\u0438\u0432\u0448\u0435\u0433\u043e:",(0,d.jsx)("input",{className:"text input-text",type:"text",name:"refer",placeholder:"\u0420\u0435\u0444\u0435\u0440\u0430\u043b",required:"",value:a,onChange:this.handleChange}),(0,d.jsxs)("div",{className:"wthree-text",children:[(0,d.jsxs)("label",{className:"anim",children:[(0,d.jsx)("input",{type:"checkbox",className:"checkbox",required:""}),(0,d.jsx)("span",{children:"I Agree To The Terms  Conditions"})]}),(0,d.jsx)("div",{className:"clear",children:" "})]}),(0,d.jsx)("input",{className:"input-submit",type:"submit",value:"SIGNUP"}),s&&(0,d.jsx)("div",{children:s})]}),(0,d.jsxs)("p",{children:["\u0423\u0436\u0435 \u0435\u0441\u0442\u044c \u0430\u043a\u043a\u0430\u0443\u043d\u0442? ",(0,d.jsx)("a",{href:"/login",children:" \u0412\u043e\u0439\u0442\u0438!"})]})]})}),(0,d.jsxs)("ul",{className:"colorlib-bubbles",children:[(0,d.jsx)("li",{}),(0,d.jsx)("li",{}),(0,d.jsx)("li",{}),(0,d.jsx)("li",{}),(0,d.jsx)("li",{}),(0,d.jsx)("li",{}),(0,d.jsx)("li",{}),(0,d.jsx)("li",{}),(0,d.jsx)("li",{}),(0,d.jsx)("li",{})]})]})}}]),t}(l.Component)},5531:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/registration",function(){return t(2167)}])}},function(e){e.O(0,[160,774,888,179],(function(){return n=5531,e(e.s=n);var n}));var n=e.O();_N_E=n}]);